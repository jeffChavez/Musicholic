<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNSDK for Mobile (iOS): GnMusicIdStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNSDK for Mobile (iOS)
   &#160;<span id="projectnumber">1.1.2.2866</span>
   </div>
   <div id="projectbrief">Objective-C API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interface_gn_music_id_stream.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="class_gn_music_id_stream-members.html">List of all members</a> &#124;
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">GnMusicIdStream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for GnMusicIdStream:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_gn_music_id_stream.png" usemap="#GnMusicIdStream_map" alt=""/>
  <map id="GnMusicIdStream_map" name="GnMusicIdStream_map">
<area href="class_n_s_object.html" alt="NSObject" shape="rect" coords="0,0,111,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:accea202b1b0e004cebd75537a4880425"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#accea202b1b0e004cebd75537a4880425">audioProcess:audioDataLength:error:</a></td></tr>
<tr class="separator:accea202b1b0e004cebd75537a4880425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac64d32269fcf6e6f0fb5e03d96deaad"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#aac64d32269fcf6e6f0fb5e03d96deaad">audioProcessStartWithAudioSource:error:</a></td></tr>
<tr class="separator:aac64d32269fcf6e6f0fb5e03d96deaad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77fa7518255063649417fd8f32f08395"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#a77fa7518255063649417fd8f32f08395">audioProcessStartWithSamplesPerSecond:bitsPerSample:numberOfChannels:error:</a></td></tr>
<tr class="separator:a77fa7518255063649417fd8f32f08395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34996dfa9d3f3122e22bf3389f870f97"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#a34996dfa9d3f3122e22bf3389f870f97">audioProcessStop:</a></td></tr>
<tr class="separator:a34996dfa9d3f3122e22bf3389f870f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd294c6ff3b973dc29ed3afd439b796b"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#abd294c6ff3b973dc29ed3afd439b796b">broadcastMetadata:broadcastMetadataValue:error:</a></td></tr>
<tr class="separator:abd294c6ff3b973dc29ed3afd439b796b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4972b756c3573f24c903839c8a9dd6d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#af4972b756c3573f24c903839c8a9dd6d">event:error:</a></td></tr>
<tr class="separator:af4972b756c3573f24c903839c8a9dd6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b821eb016b650b90c0d60c7cd99902"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#a53b821eb016b650b90c0d60c7cd99902">identifyAlbum:</a></td></tr>
<tr class="separator:a53b821eb016b650b90c0d60c7cd99902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ca3674403db59be6b6562d11a452b7"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#aa2ca3674403db59be6b6562d11a452b7">identifyAlbumAsync:</a></td></tr>
<tr class="separator:aa2ca3674403db59be6b6562d11a452b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cffd25fb1384ceb1e0793f6a3bf4f4"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#a38cffd25fb1384ceb1e0793f6a3bf4f4">identifyCancel:</a></td></tr>
<tr class="separator:a38cffd25fb1384ceb1e0793f6a3bf4f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863d5cf2c37b1157bd6ac4a10a43aacb"><td class="memItemLeft" align="right" valign="top">(INSTANCE_RETURN_TYPE)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#a863d5cf2c37b1157bd6ac4a10a43aacb">initWithGnUser:preset:locale:musicIdStreamEventsDelegate:</a></td></tr>
<tr class="separator:a863d5cf2c37b1157bd6ac4a10a43aacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01b53c8c5a3649a0b60fcdb4f76931e"><td class="memItemLeft" align="right" valign="top">(INSTANCE_RETURN_TYPE)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#ae01b53c8c5a3649a0b60fcdb4f76931e">initWithGnUser:preset:musicIdStreamEventsDelegate:</a></td></tr>
<tr class="separator:ae01b53c8c5a3649a0b60fcdb4f76931e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00cd19fcc3bf25e2e7985f9826294e72"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_gn_music_id_stream_options.html">GnMusicIdStreamOptions</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#a00cd19fcc3bf25e2e7985f9826294e72">options</a></td></tr>
<tr class="separator:a00cd19fcc3bf25e2e7985f9826294e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad770915b58df977c0ac956bccc6775"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_gn_music_id_stream.html#a7ad770915b58df977c0ac956bccc6775">waitForIdentify:error:</a></td></tr>
<tr class="separator:a7ad770915b58df977c0ac956bccc6775"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a1ea98454f8210899e963b2ddd3fa1c01"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_gn_music_id_stream.html#a1ea98454f8210899e963b2ddd3fa1c01">buildDate</a></td></tr>
<tr class="separator:a1ea98454f8210899e963b2ddd3fa1c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01ef9c4de6f524ab04c66b1d620d2d8"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_gn_music_id_stream.html#ad01ef9c4de6f524ab04c66b1d620d2d8">version</a></td></tr>
<tr class="separator:ad01ef9c4de6f524ab04c66b1d620d2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:af8424038cedcf81d910675d8a48acde4"><td class="memItemLeft" align="right" valign="top">gracenote::musicid_stream::GnMusicIdStream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_gn_music_id_stream.html#af8424038cedcf81d910675d8a48acde4">cppGnMusicIdStream</a><code> [implementation]</code></td></tr>
<tr class="separator:af8424038cedcf81d910675d8a48acde4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Identifies raw audio received in a continuous stream.</p>
<p><a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> provides services for identifying music within a continuous audio stream. As data is received from the audio stream it is provided to <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a>, when the application wishes to identify the audio it initializes an identification. The results of the identification are delivered asynchronously to a delegate object.</p>
<p><a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> is a long-life object and, for a single audio stream, a single instance should be kept for as long as the application wishes to identify that audio stream. Where multiple audio streams require identification multiple instances of <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> are also required.</p>
<p><a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> can be started and stopped as the audio stream starts and stops. There is no need to destroy and recreate a <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> instance due to breaks in the audio stream.</p>
<p><b>Audio Processing</b></p>
<p>After instantiating a <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> object the next step is to start audio processing and provide raw audio. Raw audio can be provided automatically or manually.</p>
<p>To provide audio automatically your audio stream must be represented by an object that implements <a class="el" href="protocol_gn_audio_source_delegate-p.html">GnAudioSourceDelegate</a> interface. Gracenote provides <a class="el" href="interface_gn_mic.html">GnMic</a> class on some platforms which is a representation of the device microphone, though you are encouraged to provide custom implementations representing any audio stream source your application needs.</p>
<p>Internally <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> pulls data from the audio source interface in a loop, so some applications may wish to start automatic audio processing in a background thread to avoid stalling the main thread.</p>
<p>Raw audio can also be manually provided to <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a>. Audio processing must be started and the audio format provided, this allows <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> to establish internal buffers and audio processing modules. Once audio processing is started audio can then be written for processing as it is received from the stream.</p>
<p>At any point audio processing can be stopped. When stopped automatic data fetching ceases or if audio data is being provided manually attempts to write data for processing manually will fail. Internally <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> clears and releases all buffers and audio processing modules. Audio processing can be restarted after it is stopped.</p>
<p>If an error occurs during manual audio processing an exception is thrown during the audio write API call. If an error occurs during automatic audio processing the internal loop is exited and an exception thrown from the audio processing start API.</p>
<p><b>Identification</b></p>
<p>At any point the application can trigger an identification of the audio stream. The identification process identifies buffered audio. Only up to ~7 seconds of the most recent audio is buffered. If there isn't enough audio buffered for identification it will wait until enough audio is received.</p>
<p>The identification process spawns a thread and completes asynchronously. However two identify methods are provided, one for synchronous and one for asynchronous. Where synchronous identification is invoked the identification is still performed asynchronously and results delivered via delegate implementing <a class="el" href="protocol_gn_music_id_stream_events_delegate-p.html">GnMusicIdStreamEventsDelegate</a>, but the identify method does not return until the identification is complete. Requests to identify audio while a previous pending identification request is pending will be ignored.</p>
<p>Audio can be identified against Gracenote's online database or a local database. The default behavior is to attempt a match against the local database and if a match isn't found try the online database. Local matches are only possible if <a class="el" href="interface_gn_lookup_local_stream.html">GnLookupLocalStream</a> object has been instantiated and a MusicID-Stream fingerprint bundle ingested. See <a class="el" href="interface_gn_lookup_local_stream.html">GnLookupLocalStream</a> for more information on bundle ingestion.</p>
<p>An identification process can be canceled. In this case the identification process stops and, if synchronous identification was invoked, the identify method returns. The identify error delegate method will be called with an "aborted" error when cancelled. Note cancelling does not cease audio processing and application can invoke identify again after cancelling.</p>
<p>If an error occurs during identification it is reported in one of two ways. If the error occurs in the asynchronous identifying thread the error information is provided via identifying error delegate method and the result available delegate method will not be called. Where this delegate method is invoked no result available delegate method is invoked. If the error occurs prior to the asynchronous identifying thread being launched an exception is thrown from the identifying API.</p>
<p><b>Configuration</b></p>
<p><a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> is configurable via it's options object. The configuration determines, among other things, if identification is performed against local database, online database or both; the content returned with results (images, external IDs, etc.) See <a class="el" href="interface_gn_music_id_stream_options.html">GnMusicIdStreamOptions</a> for more information.</p>
<p>Note: Customers must be licensed to implement use of a MusicID product in an application. Contact your Gracenote support representative with questions about product licensing and entitlement. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="accea202b1b0e004cebd75537a4880425"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) audioProcess: </td>
          <td></td>
          <td class="paramtype">(unsigned char *)&#160;</td>
          <td class="paramname"><em>audioData</em></td>
        </tr>
        <tr>
          <td class="paramkey">audioDataLength:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>audioDataLength</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides audio manually for processing by <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a>. This should not be called if audio processing was started with an object implementing the audio source interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">audioData</td><td>[in] Buffer containing sample audio </td></tr>
    <tr><td class="paramname">audioDataLength</td><td>[in] Number of bytes of audio in pAudioBuffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aac64d32269fcf6e6f0fb5e03d96deaad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) audioProcessStartWithAudioSource: </td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_gn_audio_source_delegate-p.html">GnAudioSourceDelegate</a> &gt;)&#160;</td>
          <td class="paramname"><em>audioSource</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commence retrieving and processing audio from an object implementing the audio source interface. This is an alternate and often simpler method for providing audio to <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> instead of calling AudioProcessStart (audio format overload) and AudioProcess. To use this method the audio source to be identified must be accessible via an <a class="el" href="protocol_gn_audio_source_delegate-p.html">GnAudioSourceDelegate</a> implementation. Custom implementations of <a class="el" href="protocol_gn_audio_source_delegate-p.html">GnAudioSourceDelegate</a> are encouraged. Note: audio is retrieved from the audio source in a loop so some applications may wish to start automatic audio processing in a background thread to avoid stalling the main thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">audioSource</td><td>[in] Audio source to be identified </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77fa7518255063649417fd8f32f08395"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) audioProcessStartWithSamplesPerSecond: </td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>samplesPerSecond</em></td>
        </tr>
        <tr>
          <td class="paramkey">bitsPerSample:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>bitsPerSample</em></td>
        </tr>
        <tr>
          <td class="paramkey">numberOfChannels:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>numberOfChannels</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize manual delivery of audio stream audio to <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a>. <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> establishes buffers and audio processing modules, readying itself to receive audio. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">samplesPerSecond</td><td>[in] Number of samples per second </td></tr>
    <tr><td class="paramname">bitsPerSample</td><td>[in] Number of bits per sample </td></tr>
    <tr><td class="paramname">numberOfChannels</td><td>[in] Number of channels </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a34996dfa9d3f3122e22bf3389f870f97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) audioProcessStop: </td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>Experimental</b> Stops audio processing. If audio processing was started with an object implementing <a class="el" href="protocol_gn_audio_source_delegate-p.html">GnAudioSourceDelegate</a> the audio source is closed and data is no longer retrieved from that source. If manual audio processing was used future attempts to write audio data for processing will fail. </p>

</div>
</div>
<a class="anchor" id="abd294c6ff3b973dc29ed3afd439b796b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) broadcastMetadata: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>broadcastMetadataKey</em></td>
        </tr>
        <tr>
          <td class="paramkey">broadcastMetadataValue:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>broadcastMetadataValue</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>BroadcastMetadata </p>

</div>
</div>
<a class="anchor" id="a1ea98454f8210899e963b2ddd3fa1c01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSString*) buildDate </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the MusicID-Stream SDK's build date string. </p>
<dl class="section return"><dt>Returns</dt><dd>Build date string of the format: YYYY-MM-DD hh:mm UTC </dd></dl>
<p><b>Remarks:</b></p>
<p>This API can be called at any time, after successfully establishing a MusicID-Stream audio channel. The returned string is a constant. Do not attempt to modify or delete. Example build date string: 2008-02-12 00:41 UTC </p>

</div>
</div>
<a class="anchor" id="af4972b756c3573f24c903839c8a9dd6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) event: </td>
          <td></td>
          <td class="paramtype">(GnMusicIdStreamEvent)&#160;</td>
          <td class="paramname"><em>event</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event </p>

</div>
</div>
<a class="anchor" id="a53b821eb016b650b90c0d60c7cd99902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) identifyAlbum: </td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd>Will be removed next release, use IdentifyAlbumAsync and WaitForIdentify instead. Identifying the audio in the audio stream and blocks until identification is complete. Results are delivered asynchronously via <a class="el" href="protocol_gn_music_id_stream_events_delegate-p.html">GnMusicIdStreamEventsDelegate</a> delegate. </dd></dl>

</div>
</div>
<a class="anchor" id="aa2ca3674403db59be6b6562d11a452b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) identifyAlbumAsync: </td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Identifying the audio in the audio stream. Results are delivered asynchronously via <a class="el" href="protocol_gn_music_id_stream_events_delegate-p.html">GnMusicIdStreamEventsDelegate</a> delegate. </p>

</div>
</div>
<a class="anchor" id="a38cffd25fb1384ceb1e0793f6a3bf4f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) identifyCancel: </td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancel the current identify operation blocking until the identification has stopped. Cannot be called from within a <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> delegate callback, use the canceller provided in the callback instead. This will throw an exception if it is used with the automatic mode on. </p>

</div>
</div>
<a class="anchor" id="a863d5cf2c37b1157bd6ac4a10a43aacb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (INSTANCE_RETURN_TYPE) initWithGnUser: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_gn_user.html">GnUser</a> *)&#160;</td>
          <td class="paramname"><em>user</em></td>
        </tr>
        <tr>
          <td class="paramkey">preset:</td>
          <td></td>
          <td class="paramtype">(GnMusicIdStreamPreset)&#160;</td>
          <td class="paramname"><em>preset</em></td>
        </tr>
        <tr>
          <td class="paramkey">locale:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_gn_locale.html">GnLocale</a> *)&#160;</td>
          <td class="paramname"><em>locale</em></td>
        </tr>
        <tr>
          <td class="paramkey">musicIdStreamEventsDelegate:</td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_gn_music_id_stream_events_delegate-p.html">GnMusicIdStreamEventsDelegate</a> &gt;)&#160;</td>
          <td class="paramname"><em>pEventDelegate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Establishes an audio stream identification object with locale. The locale is used determine the preferred language and script of stream identification results. Note: Results are only returned in preferred language and script where available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>[in] Gracenote user </td></tr>
    <tr><td class="paramname">locale</td><td>[in] Gracenote locale </td></tr>
    <tr><td class="paramname">pEventDelegate</td><td>[in] Audio processing and identification query events handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae01b53c8c5a3649a0b60fcdb4f76931e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (INSTANCE_RETURN_TYPE) initWithGnUser: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_gn_user.html">GnUser</a> *)&#160;</td>
          <td class="paramname"><em>user</em></td>
        </tr>
        <tr>
          <td class="paramkey">preset:</td>
          <td></td>
          <td class="paramtype">(GnMusicIdStreamPreset)&#160;</td>
          <td class="paramname"><em>preset</em></td>
        </tr>
        <tr>
          <td class="paramkey">musicIdStreamEventsDelegate:</td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_gn_music_id_stream_events_delegate-p.html">GnMusicIdStreamEventsDelegate</a> &gt;)&#160;</td>
          <td class="paramname"><em>pEventDelegate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Establishes an audio stream identification object with locale. The locale is used determine the preferred language and script of stream identification results. Note: Results are only returned in preferred language and script where available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>[in] Gracenote user </td></tr>
    <tr><td class="paramname">preset</td><td>type [in] Gracenote musicID stream preset </td></tr>
    <tr><td class="paramname">pEventDelegate</td><td>[in] Audio processing and identification query events handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a00cd19fcc3bf25e2e7985f9826294e72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_gn_music_id_stream_options.html">GnMusicIdStreamOptions</a>*) options </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> options object. Use to configure your <a class="el" href="interface_gn_music_id_stream.html">GnMusicIdStream</a> instance. </p>
<dl class="section return"><dt>Returns</dt><dd>Options objects </dd></dl>

</div>
</div>
<a class="anchor" id="ad01ef9c4de6f524ab04c66b1d620d2d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSString*) version </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the MusicID-Stream SDK's version string. </p>
<dl class="section return"><dt>Returns</dt><dd>Version string if successful </dd></dl>
<p><b>Remarks:</b></p>
<p>This API can be called at any time, after successfully establishing a MusicID-Stream audio channel. The returned string is a constant. Do not attempt to modify or delete. Example version string: 1.2.3.123 (Major.Minor.Improvement.Build) Major: New functionality Minor: New or changed features Improvement: Improvements and fixes Build: Internal build number </p>

</div>
</div>
<a class="anchor" id="a7ad770915b58df977c0ac956bccc6775"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) waitForIdentify: </td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>timeout_ms</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for currently running identify call to complete (up to timeout_ms milliseconds). Returns true if identification completed in the timeout period, false if not </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_ms</td><td>[in] Timeout in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if completed, false if timed out </dd></dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="af8424038cedcf81d910675d8a48acde4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- gracenote:</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">implementation</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</ul>
</div>
<hr \>
<p style="margin-left:2em;">
<a href="mailto:doc_feedback@gracenote.com?subject=Gracenote Documentation Feedback" title="Email comments about this topic to Gracenote Technical Publications." alt="Email comments about this topic to Gracenote Technical Publications.">How can we improve this documentation?</a><br \>
Copyright &copy; 2000-present. Gracenote, Inc. All rights reserved. Generated on Wed Oct 29 2014 09:42:44.<br \>
</p>
</body>
</html>
