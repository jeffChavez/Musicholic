<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Identifying Video</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/BookStyles.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#oo-topics/oo_implementing/Identifying Video.html">Open topic with navigation</a>
        </p>
        <h1>Identifying Video</h1>
        <p>The GNSDK provides two modules for implementing video features: <b>VideoID</b> and <b>VideoExplore</b>:</p>
        <ul>
            <li value="1">
                <p><b>VideoID</b> supports recognizing Products and enables access to related metadata such as title, genre, rating, synopsis, cast and crew. A Product refers to the commercial release of a Film, TV Series, or video content. Products contain a unique commercial code such as a UPC (Universal Product Code) or ISAN (International Standard Audiovisual Number). Products are for the most part released on a physical format, such as a DVD or Blu-ray.</p>
                <p>VideoID supports these features:</p>
                <ul>
                    <li value="1">Recognize a Product using any of the input types listed below.</li>
                    <li value="2">Enable access to core metadata from a Product data object</li>
                </ul>
            </li>
            <li value="2">
                <p><b>Video Explore</b> enables advanced recognition of video elements and their metadata. You can use Video Explore to navigate among Products, AV Works, Contributors, Series, and Seasons. For more information, See "Video Explore Overview"</p>
            </li>
        </ul>
        <h2>Using VideoID for Recognition</h2>
        <p>You can use the following video identifiers in VideoID recognition queries:</p>
        <ul>
            <li value="1">
                <p><b><a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">TOC<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Table of Contents. An area on CDs, DVDs, and Blu-ray discs that describes the unique track layout of the disc.</span></a></b> (table of contents)—TOCs must be generated as XML strings using the GNSDK <code>tocgen</code> library that you can find in the /utilities folder.</p>
            </li>
            <li value="2">
                <p><b>Text</b>—See <i><a href="#VTSQ">"Video Text Search Queries"</a></i> for more information.</p>
            </li>
            <li value="3">
                <p><b>External IDs</b>—Such as UPC or ISAN (International Standard Audiovisual Number) codes. See the <code>GnVideoExternalIdType</code> enums for a complete list of allowable codes.</p>
            </li>
            <li value="4">
                <p>Gracenote data object or other Gracenote ID for a Product, such as a GNID, GNUID, or TUI/TUI Tag combination.</p>
            </li>
        </ul>
        <h2>Using Video Find Queries</h2>
        <p>You can use the following <b><code>GnVideo</code></b> methods to do Video Identification and Video Explore queries:</p>
        <ul>
            <li value="1">
                <p><b><code>FindProducts</code></b>— You can use <code>FindProducts</code> to search for products using a TOC, a Gracenote data object, text or an external ID.</p>
            </li>
            <li value="2">
                <p><b><code>FindWorks</code></b>— A Work refers to the artistic creation and production of a Film, TV Series, or other form of video content. The same Work can be released on multiple Product formats across territories. For example, The Dark Knight Work can be released on a Blu-ray Product in multiple countries. A TV Series such as Lost is also a Work. Each individual episode comprising the Series is also a unique Work. Although the majority of Works are commercially released as a Product, not all Works have a Product counterpart. For example, a TV episode which airs on TV, but is not released on DVD or Blu-ray is considered a Work to which no Product exists. You can use <code>FindWorks</code> to search for Works using a TOC, a Gracenote data object, text or an External ID.</p>
            </li>
            <li value="3">
                <p><b><code>FindSeasons</code></b>—A Season is an ordered collection of Works, typically representing a season of a TV series. For example: CSI: Miami (Season One), CSI: Miami (Season Two), CSI: Miami (Season Three). You can use <code>FindSeasons</code> to search for Seasons using a Gracenote data object or an External ID. This query requires Video Explore licensing.</p>
            </li>
            <li value="4">
                <p><b><code>FindSeries</code></b>— A Series is a collection of related Works, typically in sequence, and often comprised of Seasons (generally for a TV series), for example: CSI: Miami, CSI: Vegas, CSI: Crime Scene Investigation. You can use <code>FindSeries</code> to search for Series using a Gracenote data object, search text, or an External ID. This query requires Video Explore licensing.</p>
            </li>
            <li value="5">
                <p><b><code>FindContributors</code></b>—A Contributor refers to any person who plays a role in a Work. Actors, Directors, Producers, Narrators, and Crew are all considered Contributors. Popular recurring Characters such as Batman, Harry Potter, or Spider-man are also considered Contributors. You can use <code>FindContributors</code> to search for Contributors using a Gracenote data object, search text, or an External ID. This query requires Video Explore licensing.</p>
            </li>
            <li value="6">
                <p><b><code>FindObjects</code></b>—Performs a Video Explore query for any type of video object. Use this function to retrieve a specific Video Explore object that a Gracenote data object references or to retrieve all the Video Explore objects (Contributors, Products, Seasons, Series, and Works) associated with a particular external ID. This query is useful when you are unsure of all the potential object types that exist for a particular Gracenote data object or External ID. This query requires Video Explore licensing.</p>
            </li>
            <li value="7">
                <p><b><code>FindPrograms</code></b>—A television program is a segment of content intended for broadcast on television. It may be a one-time production or part of a periodically recurring series. You can use <code>FindPrograms</code> to search for TV Programs using a Gracenote data object or an External ID. This query requires Video Explore licensing.</p>
            </li>
            <li value="8">
                <p><b><code>FindSuggestions</code></b>—Use this function to suggest potential matching titles, names, and series as a user enters text in a search query. You can search using a Gracenote data object or text. For a text search, you can set the type of search with a <code>GnVideoSearchType</code> enum and the type of field to search on (contributor name, character name, work franchise, work series, work title, product tile, series title, etc.) with a <code>GnVideoSearchField</code> enum. </p>
                <p>Your license determines what suggestion searches your app can perform:</p>
                <ul>
                    <li value="1">To query for Product titles requires VideoID or Video Explore licensing</li>
                    <li value="2">To query for everything else requires Video Explore licensing.</li>
                </ul>
            </li>
        </ul>
        <h2>Setting Options for VideoID and Video Explore Queries</h2>
        <p>The <code>GnVideoOptions</code> class allows you to set the following options for VideoID and Video Explore queries:</p>
        <ul>
            <li value="1">
                <p><b><code>ResultPreferLanguage</code></b>—Sets the preferred language for returned results, applies only to TOC lookups.</p>
            </li>
            <li value="2">
                <p><b><code>ResultRangeStart</code></b>—Queries can return multiple results. This option allows you to set the starting ordinal number for returned results; useful for paging through results.</p>
            </li>
            <li value="3">
                <p><b><code>ResultCount</code></b>—Queries can return multiple results. This options sets the maximum number of results that can be returned; useful for paging through results.</p>
            </li>
            <li value="4">
                <p><b><code>LookupData</code></b>—Indicates additional data to include in results - content (e.g., images), classical, sonic, playlisting attributes, global IDs, external IDs, additional credits, etc. See the <code>GnLookupData</code> enums for a complete list.</p>
            </li>
            <li value="5">
                <p><b><code>QueryNoCache</code></b>—Flag to indicate whether query results should come from cache or the Gracenote service. Results from the service may be more recent. If <code>false</code>, cache is searched first, if no match is found, then the Gracenote service is queried.</p>
            </li>
            <li value="6">
                <p><b><code>QueryCommerceType</code></b>—Specifies that a TOC lookup include the disc's commerce type.</p>
            </li>
            <li value="7">
                <p><b><code>ResultFilter</code></b>—Use a list value to filter Video Explore query results. Filters are ignored for non-text related queries. Filtering on list elements is restricted to Works queries and is limited to genre, production type, serial type and origin (see the <b><code>GnVideoListElementFilterType</code></b> enums for the most up-to-date list). You can also filter on a season number, an episode number, or a series episode number; see the <b><code>GnVideoFilterType</code></b> enums for a complete list.</p>
            </li>
        </ul>
        <h2><a id="VTSQ">Video Text Search Queries</a>
        </h2>
        <p>As enumerated with <b><code>GnVideoSearchType</code></b> defines, there are two types of video search queries:</p>
        <ul>
            <li value="1">
                <p><b>Normal</b>—Default search for contributor, product, and work title
					searches; for example, a search using a keyword of <i>dark</i>, <i>knight</i>,
					or <i>dark knight</i> retrieves the title <i>Dark Knight</i>. This search type recognizes only full words so, for example, entering only <i>dar</i> does not work.</p>
            </li>
            <li value="2">
                <p><b>Anchored</b>— Can be used for product title and suggestion searches. Retrieves results that begin with the same characters as exactly
					specified; for example, entering <i>dar</i>, <i>dark</i>, <i>dark k</i>,
					or <i>dark kni</i> retrieves the title <i>Dark Knight,</i> but entering<i>
					knight</i> will not. This search
			type recognizes both partial and full words.</p>
            </li>
        </ul>
        <p>The <b><code>GnVideoSearchField</code></b> enums specify fields where a text search should take place:</p>
        <ul>
            <li value="1">Contributor names</li>
            <li value="2">Character names</li>
            <li value="3">Work franchise</li>
            <li value="4">Work series</li>
            <li value="5">Work titles</li>
            <li value="6">Product titles</li>
            <li value="7">Series titles</li>
            <li value="8">Search all (not available for suggestion searches)</li>
        </ul>
        <h2>Setting a Locale for Video Operations</h2>
        <p>Using VideoID or Video Explore requires creating a <code>GnVideo</code> instance with a <code>GnUser</code> object. Optionally, you can additionally allocate it with a <code>GnLocale</code> object and that locale will be used for all <code>GnVideo</code> operations.</p>
        <h2>Video-ID Examples</h2>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />C++ text search</a></span>
            <div class="MCDropDownBody dropDownBody"><pre>LookupStatusEvents videoEvents;

GnVideo myVideoId(user, &amp;videoEvents);

/* Set result range to return up to the first 20 results */
myVideoId.Options().ResultRangeStart(1);
myVideoId.Options().ResultCount(20);

GnResponseVideoProduct videoResponse = myVideoId.FindProducts( "Star", kSearchFieldProductTitle, kSearchTypeDefault );</pre>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />C++ seasons search using TUI/Tui Tag</a></span>
            <div class="MCDropDownBody dropDownBody"><pre>gnsdk_cstr_t tuiID  = "238047322";
gnsdk_cstr_t tuiTag = "5C46058E04036C88490972A653C64A1D";

/*---------------------------
 * Get Simpson's First Season
 */
printf("\n*****Sample Video Seasons Search: '%s'*****\n", "Simpsons First Season");		

GnVideo videoid(user);
			
/* Create Seasons object from TUI and TUI Tag */
GnVideoSeason seasonObject(tuiID, tuiTag);

printf("\nPerforming the search...\n");
GnResponseVideoSeasons videoSeasonsResponse = videoid.FindSeasons(seasonObject);

GnVideoSeason season = videoSeasonsResponse.Seasons().at(0).next();</pre>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />C++ works search with filter</a></span>
            <div class="MCDropDownBody dropDownBody"><pre>LookupStatusEvents searchEvents;

/* Create video query */
GnVideo myVideoID(user, &amp;searchEvents);

printf("*****Sample Video Work Search: *****\n");

/* load video genre list from service ( online ) */
LookupStatusEvents listEvents;

GnList list(kListTypeGenreVideos,
            kLanguageEnglish,
            kRegionDefault,
            kDescriptorSimplified,
            user,
            &amp;listEvents);

 /* Set filter - no comedies dammit! */
 GnListElement listElement = list.ElementByString("Comedy");

myVideoID.Options().ResultFilter(kListElementFilterGenre, listElement, false);

/* Perform the search */
GnResponseVideoWork videoWorksResponse = myVideoID.FindWorks(searchText, kSearchFieldContributorName, kSearchTypeDefault);

printf("\nProduct Match Count:%d \n", videoWorksResponse.Works().count());</pre>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />C++ suggestions search</a></span>
            <div class="MCDropDownBody dropDownBody"><pre>gnsdk_cstr_t   suggestionTitle = GNSDK_NULL;
gnsdk_cstr_t   searchText      = "spider";


try
{
    GnVideo myVideoID(user);

    GnResponseVideoSuggestions responseVideoSuggestions = myVideoID.FindSuggestions( searchText, kSearchFieldProductTitle, kSearchTypeAnchored );
    gnsdk_uint32_t   rangeStart  = responseVideoSuggestions.RangeStart();
    gnsdk_uint32_t   rangeEnd    = responseVideoSuggestions.RangeEnd();
    gnsdk_uint32_t   rangeCount  = responseVideoSuggestions.RangeTotal();
    gnsdk_uint32_t   resultCount = responseVideoSuggestions.RangeEnd();

    if (resultCount &gt; 0)
    {
        std::cout &lt;&lt; std::endl &lt;&lt; rangeStart &lt;&lt; " - " &lt;&lt; rangeEnd &lt;&lt; " of " &lt;&lt; rangeCount &lt;&lt; " suggestions for \'" &lt;&lt; searchText &lt;&lt; "\' " &lt;&lt; std::endl;
    }

    for (gnsdk_uint32_t i = 1; i &lt;= resultCount; i++)
    {
        suggestionTitle = responseVideoSuggestions.SuggestionTitle(i);
        std::cout &lt;&lt; "\t" &lt;&lt; i &lt;&lt; " : " &lt;&lt; suggestionTitle &lt;&lt; std::endl;
    }
}</pre>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Java suggestions search</a></span>
            <div class="MCDropDownBody dropDownBody"><pre>private static void videoSearchSuggetion(GnUser user, String suggestion)
    throws GnException {
    int match = 0;
    int moreResults = 1;
    int pageStart = 1;
    int pageCount = 20;
    String searchTerm = null;
    System.out.println("\n*****Sample VideoID Suggestion Lookup*****\n");
    while (1 == moreResults) {
        moreResults = 0;
        GnVideo video = new GnVideo(user);
			
        /* Set the search options */
        video.options().resultRange( pageStart,  pageCount );
			
        /*
         * Set the input text and perform the search with no optional data
         * passed to callback function
         */
        GnResponseVideoSuggestions responseVideoSuggestions = video
            .findSuggestions(suggestion,
                    GnVideoSearchField.kSearchFieldProductTitle,
                    GnVideoSearchType.kSearchTypeAnchored);
			
        /* Handle the results. Retrieve number of search terms in result */
        long rangeStart = responseVideoSuggestions.rangeStart();
        long rangeEnd = responseVideoSuggestions.rangeEnd();
        long rangeCount = responseVideoSuggestions.rangeTotal();
        long count = responseVideoSuggestions.rangeTotal();
					
       /* Get search term */
        if (count &gt; 0)
            System.out.println("\t" + rangeStart + " - " + rangeEnd
                + " of " + rangeCount + " suggestions for \'"
                + suggestion + "\'");
					
       /* Get search term */
        for (long i = 1; i &lt;= count; i++) {
            searchTerm = responseVideoSuggestions.suggestionTitle(i);
            if (searchTerm != null)
                System.out.println("\t" + ++match + ": " + searchTerm);
        }
        if (rangeCount &gt; rangeEnd) {
            moreResults = 1;
            pageStart += pageCount;
        }
     }
}</pre>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Java work contributors search</a></span>
            <div class="MCDropDownBody dropDownBody"><pre>/* Find contributors for work */
private static void findContributor(GnUser user, GnDataObject pWorkHandle)
    throws GnException {
    int count = 0;
    GnVideo mVideoID = new GnVideo(user);
    GnResponseContributor contribResponse = mVideoID.findContributors(pWorkHandle);
    GnContributorIterable contrib = contribResponse.contributors();
    GnContributorIterator gnContributorIterator = contrib.getIterator();
    System.out.println("\nContributors:");
					
    /* Find all contributors */
    while (gnContributorIterator.hasNext()) {
        GnNameIterable gnNameIterable = gnContributorIterator.next().namesOfficial();
        GnNameIterator gnNameIterator = gnNameIterable.getIterator();
        while (gnNameIterator.hasNext()) {
            GnName contribName = gnNameIterator.next();
            System.out.println("\t" + ++count + " : "
            + contribName.display());
         }
     }
}</pre>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />C# find works for contributor</a></span>
            <div class="MCDropDownBody dropDownBody"><pre>/* Do a video works lookup */
private static void
    DoVideoWorkLookup(GnUser user)
    {
        string searchText = "Harrison Ford";
        int    count      = 0;
        /* Console.WriteLine("\n*****Sample Video Work Lookup:*****\n"); */

        /* Get Product based on TOC */
        using (LookupStatusEvents videoEvents = new LookupStatusEvents())
        {
            GnVideo video = new GnVideo(user, videoEvents);
            
			/* Perform Search */
            GnResponseVideoWork gnResponseVideoWork = video.FindWorks(searchText,
            GnVideoSearchField.kSearchFieldContributorName,
            GnVideoSearchType.kSearchTypeDefault);

            GnVideoWorkEnumerable gnVideoWorkEnumerable = gnResponseVideoWork.Works;

            Console.WriteLine("\nAV Works for Harrison Ford:");

            foreach (GnVideoWork work in gnVideoWorkEnumerable)
            {
                /* Work title*/
                GnTitle workTitle = work.OfficialTitle;
                Console.WriteLine("\t" + ++count + ": " + workTitle.Display);
            }
        }
    }</pre>
            </div>
        </div>
        <p class="onlineFooter">© 2000 to present. Gracenote, Inc. All rights reserved.</p>
        <p><a href="mailto:doc_feedback@gracenote.com?subject=Gracenote Documentation Feedback" target="_blank" title="Send comments about this topic to Gracenote Technical Publications." alt="Send comments about this topic to Gracenote Technical Publications.">How can we improve this documentation?</a>
        </p>
    </body>
</html>